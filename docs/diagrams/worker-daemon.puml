@startuml worker-daemon-sequence

skinparam Shadowing false
skinparam ParticipantPadding 80
skinparam BoxPadding 10

actor "GCLS Worker Daemon" as Worker
participant "Worker Gateway" as Gateway

== Worker Daemon Registration ==

Worker -> Gateway: Register me as a new worker
Gateway -> Worker: OK + workerId + token

note over Worker: Worker registered and ready to process jobs

== Worker Daemon Job Execution ==

Worker -> Gateway: Request job + workerId + token
Gateway -> Worker: Assign job + jobId

== Job Processing ==
note over Worker: Worker processes the job
Worker -> Worker: Execute job locally

== Job Completion Notification ==

alt Job succeeded
    Worker -> Gateway: Job completed successfully + jobId + workerId + token
else Job failed
    Worker -> Gateway: Job failed + jobId + workerId + token + error details
end



@enduml